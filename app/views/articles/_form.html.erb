
<%= form_for(@article) do |f| %>
	<% if @article.errors.any? %>
		<div id="error_explanation">
			<h2><%= pluralize(@article.errors.count, "error") %> prohibited this article from being saved:</h2>

			<ul>
			<% @article.errors.full_messages.each do |message| %>
				<li><%= message %></li>
			<% end %>
			</ul>
		</div>
	<% end %>

	<div class="field">
		<%= f.label :headline %><br>
		<%= f.text_field :headline %>
	</div>
	<div class="field">
		<%= f.label :standfirst %><br>
		<%= f.text_field :standfirst %>
	</div>
	<div class="field">
		<%= f.label :image_path %><br>
		<%= f.text_field :image_path %>
	</div>
	<div class="field">
		<%= f.label :content %><br>
		<%= f.text_area :content %>
	</div>

	<div class="field">
	  <% Topic.all.each do |topic| %>
	  <%= check_box_tag "article[topic_ids][]", topic.id, @article.topic_ids.include?(topic.id), id: "article_#{topic.id}" %> 
	    <label for="article_<%= topic.id %>"><%= topic.name %></label><br>
	  <% end %>
	</div>

	<div class="actions">
		<%= f.submit "Publish", class: "button radius" %>
	</div>

	<% if @article.id != nil %>
		<%= link_to "Remove", article_path, method: :delete, class: "button radius" %>
	<% end %>

<% end %>